#N canvas 101 25 1122 742 10;
#X declare -path lib;
#X declare -lib hcs;
#X declare -lib pdlua;
#X obj 198 303 catch~ outL;
#X obj 198 535 dac~;
#X obj 57 31 declare -path lib;
#N canvas 117 114 810 356 init 0;
#X msg 145 167 \; pd dsp 1;
#X msg 472 204 1;
#X obj 648 147 s osc-init;
#X obj 238 42 loadbang;
#X obj 581 231 s load-midi-config;
#X obj 240 99 t b b b b b b b b b, f 55;
#X obj 48 181 s unmute-dac;
#X obj 590 174 s load-modes;
#X obj 472 235 s set-mode-num;
#X obj 382 231 s scanfiles;
#X obj 322 258 s current-file-index;
#X msg 330 220 0;
#X obj 228 237 s rec-led;
#X msg 290 159 0;
#X connect 1 0 8 0;
#X connect 3 0 5 0;
#X connect 5 0 6 0;
#X connect 5 1 0 0;
#X connect 5 2 13 0;
#X connect 5 3 11 0;
#X connect 5 4 9 0;
#X connect 5 5 1 0;
#X connect 5 6 4 0;
#X connect 5 7 7 0;
#X connect 5 8 2 0;
#X connect 11 0 10 0;
#X connect 13 0 12 0;
#X restore 286 31 pd init;
#X obj 57 77 declare -lib hcs;
#N canvas 131 105 838 425 leds 0;
#X obj 351 33 array define led1 3;
#X obj 351 55 array define led2 3;
#N canvas 128 142 991 503 test 0;
#X obj 376 314 s oscOut;
#X obj 385 161 random 255;
#X obj 560 159 random 255;
#X obj 400 184 random 255;
#X obj 575 182 random 255;
#X obj 472 207 random 255;
#X obj 600 205 random 255;
#X obj 376 50 metro 250;
#X msg 377 293 send /leds \$1 \$2 \$3 \$4 \$5 \$6, f 65;
#X obj 384 89 t b b b b b b, f 53;
#X obj 385 254 pack 0 0 0 0 0 0, f 50;
#X connect 1 0 10 0;
#X connect 2 0 10 3;
#X connect 3 0 10 1;
#X connect 4 0 10 4;
#X connect 5 0 10 2;
#X connect 6 0 10 5;
#X connect 7 0 9 0;
#X connect 8 0 0 0;
#X connect 9 0 1 0;
#X connect 9 1 3 0;
#X connect 9 2 5 0;
#X connect 9 3 2 0;
#X connect 9 4 4 0;
#X connect 9 5 6 0;
#X connect 10 0 8 0;
#X restore 496 74 pd test;
#X obj 364 130 r led-flip;
#X obj 325 188 array get led1;
#X obj 423 189 array get led2;
#X obj 324 215 unpack 0 0 0;
#X obj 423 215 unpack 0 0 0;
#X obj 322 321 s oscOut;
#N canvas 585 50 450 300 ledall 0;
#X obj 64 37 r ledall;
#X obj 40 110 s led1-set;
#X obj 227 103 s led2-set;
#X obj 64 65 t a a, f 32;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X restore 493 47 pd ledall;
#X obj 592 60 array set led1;
#X obj 592 37 r led1-set;
#X obj 593 79 r led2-set;
#X obj 593 102 array set led2;
#X obj 323 247 pack 0 0 0 0 0 0, f 43;
#X obj 364 151 t b b;
#X msg 322 290 send /leds \$1 \$2 \$3 \$4 \$5 \$6, f 65;
#N canvas 59 166 724 498 rec-led 0;
#X obj 121 80 t b f;
#X obj 94 150 s led-flip;
#X obj 196 133 sel 0 1, f 40;
#X obj 352 242 s led2-set;
#X msg 174 317 0 100 0;
#X msg 353 206 100 0 0;
#X obj 173 349 s led2-set;
#X obj 112 34 r rec-led;
#X obj 180 201 sel 0;
#X msg 236 256 1;
#X msg 306 280 0;
#X obj 275 308 metro 500;
#X obj 276 334 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 276 362 sel 0 1;
#X obj 181 173 v total-files;
#X obj 280 253 t b b;
#X obj 227 457 s led-flip;
#X obj 247 400 t b b;
#X obj 305 401 t b b;
#X msg 329 428 0 100 0;
#X obj 323 461 s led2-set;
#X msg 281 426 0 0 0;
#X text 350 281 if there are no files \, flash green;
#X obj 325 172 t b b;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 2 0 14 0;
#X connect 2 1 23 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 7 0 0 0;
#X connect 8 0 9 0;
#X connect 8 1 15 0;
#X connect 9 0 11 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 17 0;
#X connect 13 1 18 0;
#X connect 14 0 8 0;
#X connect 15 0 4 0;
#X connect 15 1 10 0;
#X connect 17 0 16 0;
#X connect 17 1 21 0;
#X connect 18 0 16 0;
#X connect 18 1 19 0;
#X connect 19 0 20 0;
#X connect 21 0 20 0;
#X connect 23 0 5 0;
#X connect 23 1 10 0;
#X restore 106 86 pd rec-led;
#N canvas 102 282 1338 485 mode-led 0;
#X obj 244 209 t b f;
#X obj 85 377 s led-flip;
#X msg 292 335 54 6 127;
#X msg 443 341 0 8 85;
#X msg 507 342 0 69 9;
#X msg 655 361 71 1 1;
#X msg 582 350 71 16 1;
#X msg 359 339 127 0 72;
#X obj 112 34 r mode-num;
#X obj 270 432 s led1-set;
#X obj 343 430 s led1-set;
#X obj 416 426 s led1-set;
#X obj 490 429 s led1-set;
#X obj 567 429 s led1-set;
#X obj 647 432 s led1-set;
#X obj 319 262 sel 1 2 3 4 5 6 7, f 58;
#X obj 741 428 s led1-set;
#X msg 749 357 71 71 71;
#X connect 0 0 1 0;
#X connect 0 1 15 0;
#X connect 2 0 9 0;
#X connect 3 0 11 0;
#X connect 4 0 12 0;
#X connect 5 0 14 0;
#X connect 6 0 13 0;
#X connect 7 0 10 0;
#X connect 8 0 0 0;
#X connect 15 0 2 0;
#X connect 15 1 7 0;
#X connect 15 2 3 0;
#X connect 15 3 4 0;
#X connect 15 4 6 0;
#X connect 15 5 17 0;
#X connect 17 0 16 0;
#X restore 106 49 pd mode-led;
#N canvas 92 117 667 459 flashit 0;
#X obj 170 391 s oscOut;
#X msg 135 257 send /leds 100 0 0 100 0 0, f 65;
#X obj 230 89 delay 50;
#X obj 247 114 delay 50;
#X obj 270 141 delay 50;
#X obj 311 194 s led-flip;
#X msg 167 290 send /leds 0 100 0 0 100 0, f 65;
#X msg 204 317 send /leds 0 0 100 0 0 1000, f 65;
#X obj 222 50 t b;
#X obj 222 19 r flashit;
#X obj 294 168 delay 50;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 7 0;
#X connect 4 0 10 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 8 0 1 0;
#X connect 8 0 2 0;
#X connect 9 0 8 0;
#X connect 10 0 5 0;
#X restore 106 121 pd flashit;
#X connect 3 0 15 0;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 14 0;
#X connect 6 1 14 1;
#X connect 6 2 14 2;
#X connect 7 0 14 3;
#X connect 7 1 14 4;
#X connect 7 2 14 5;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 14 0 16 0;
#X connect 15 0 4 0;
#X connect 15 1 5 0;
#X connect 16 0 8 0;
#X restore 286 76 pd leds;
#X text 620 15 globals;
#N canvas 200 25 1074 613 midi 0;
#X obj 339 47 r load-midi-config;
#N canvas 283 91 575 564 set-defaults 0;
#X msg 192 84 1;
#X msg 192 106 1;
#X msg 194 228 1;
#X msg 194 250 1;
#X msg 194 272 1;
#X msg 194 295 1;
#X obj 69 31 t b;
#X obj 227 84 s midi-in-channel;
#X obj 228 107 s midi-out-channel;
#X obj 228 227 s midi-clock-in-enable;
#X obj 228 249 s midi-clock-out-enable;
#X obj 227 271 s midi-transport-in-enable;
#X obj 227 294 s midi-transport-out-enable;
#X obj 230 135 s midi-cc-knob1;
#X obj 230 157 s midi-cc-knob2;
#X obj 230 183 s midi-cc-knob3;
#X obj 62 8 inlet;
#X msg 194 134 21;
#X msg 194 156 22;
#X msg 194 182 23;
#X msg 192 338 1;
#X msg 192 360 1;
#X msg 192 382 1;
#X msg 192 405 1;
#X obj 226 337 s midi-cc-in-enable;
#X obj 226 359 s midi-cc-out-enable;
#X obj 225 381 s midi-note-in-enable;
#X obj 225 404 s midi-note-out-enable;
#X msg 193 430 1;
#X msg 193 453 1;
#X obj 226 429 s midi-pc-in-enable;
#X obj 226 452 s midi-pc-out-enable;
#X connect 0 0 7 0;
#X connect 1 0 8 0;
#X connect 2 0 9 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 5 0 12 0;
#X connect 6 0 0 0;
#X connect 6 0 5 0;
#X connect 6 0 4 0;
#X connect 6 0 3 0;
#X connect 6 0 2 0;
#X connect 6 0 1 0;
#X connect 6 0 17 0;
#X connect 6 0 18 0;
#X connect 6 0 19 0;
#X connect 6 0 20 0;
#X connect 6 0 29 0;
#X connect 6 0 28 0;
#X connect 6 0 23 0;
#X connect 6 0 22 0;
#X connect 6 0 21 0;
#X connect 16 0 6 0;
#X connect 17 0 13 0;
#X connect 18 0 14 0;
#X connect 19 0 15 0;
#X connect 20 0 24 0;
#X connect 21 0 25 0;
#X connect 22 0 26 0;
#X connect 23 0 27 0;
#X connect 28 0 30 0;
#X connect 29 0 31 0;
#X restore 762 165 pd set-defaults;
#N canvas 130 109 928 473 parse-midi-config 0;
#X obj 110 179 textfile;
#X msg 342 115 clear;
#X msg 215 115 read ./midi.txt;
#X obj 112 61 t b b b b;
#X msg 156 114 rewind;
#X obj 110 112 until;
#X msg 413 116 write ./midi.txt;
#X obj 112 23 inlet;
#X text 696 9 file params;
#X text 687 36 input-channel 1 \; output-channel 1 \; cc-knob1 21 \;
cc-knob2 22 \; cc-knob3 23 \; clock-in-enable 1 \; clock-out-enable
1 \; transport-in-enable 1 \; transport-out-enable 1 \; note-in-enable
1 \; note-out-enable 1 \; cc-in-enable 1 \; cc-out-enable 1 \; pc-in-enable
1 \; pc-out-enable 1 \;;
#X obj 97 210 route input-channel output-channel cc-knob1 cc-knob2
cc-knob3 clock-in-enable clock-out-enable transport-in-enable transport-out-enable
note-in-enable note-out-enable cc-in-enable cc-out-enable pc-in-enable
pc-out-enable, f 61;
#X obj 42 311 s midi-in-channel;
#X obj 69 334 s midi-out-channel;
#X obj 217 311 s midi-clock-in-enable;
#X obj 229 331 s midi-clock-out-enable;
#X obj 252 355 s midi-transport-in-enable;
#X obj 276 377 s midi-transport-out-enable;
#X obj 94 357 s midi-cc-knob1;
#X obj 119 380 s midi-cc-knob2;
#X obj 153 405 s midi-cc-knob3;
#X obj 403 307 s midi-cc-in-enable;
#X obj 443 334 s midi-cc-out-enable;
#X obj 306 408 s midi-note-in-enable;
#X obj 336 438 s midi-note-out-enable;
#X obj 521 384 s midi-pc-in-enable;
#X obj 553 404 s midi-pc-out-enable;
#X connect 0 0 10 0;
#X connect 0 1 5 1;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 3 2 2 0;
#X connect 3 3 1 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 3 0;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X connect 10 2 17 0;
#X connect 10 3 18 0;
#X connect 10 4 19 0;
#X connect 10 5 13 0;
#X connect 10 6 14 0;
#X connect 10 7 15 0;
#X connect 10 8 16 0;
#X connect 10 9 22 0;
#X connect 10 10 23 0;
#X connect 10 11 20 0;
#X connect 10 12 21 0;
#X connect 10 13 24 0;
#X connect 10 14 25 0;
#X restore 507 164 pd parse-midi-config;
#N canvas 759 213 450 300 create-midi-obj 0;
#X obj 38 192 pack 0 0 0 0 0;
#X obj 55 42 t b b b b b b;
#X obj 71 133 v midi-out-channel;
#X obj 51 156 v midi-in-channel;
#X obj 88 113 v midi-cc-knob1;
#X obj 101 92 v midi-cc-knob2;
#X obj 114 71 v midi-cc-knob3;
#X obj 44 16 inlet;
#X msg 15 233 \; pd-load-midi-obj-here obj 10 10 midiio \$1 \$2 \$3
\$4 \$5;
#X msg 233 70 \; pd-load-midi-obj-here clear;
#X connect 0 0 8 0;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 1 2 4 0;
#X connect 1 3 5 0;
#X connect 1 4 6 0;
#X connect 1 5 9 0;
#X connect 2 0 0 1;
#X connect 3 0 0 0;
#X connect 4 0 0 2;
#X connect 5 0 0 3;
#X connect 6 0 0 4;
#X connect 7 0 1 0;
#X restore 279 165 pd create-midi-obj;
#N canvas 308 78 254 71 load-midi-obj-here 0;
#X obj 10 10 midiio 1 1 21 22 23;
#X restore 276 235 pd load-midi-obj-here;
#X text 538 140 get values from file;
#X text 300 135 create midi object using values, f 23;
#X text 475 37 note \, cc \, and pgm are created dynamically with values
from config, f 34;
#X text 865 151 set defualt values in case there is problem with file
, f 23;
#X obj 159 367 midirealtimein;
#X obj 162 396 sel 248 250 251 252 254, f 38;
#X obj 699 508 midiout;
#X msg 586 416 248;
#X msg 710 409 250;
#X msg 826 412 252;
#X obj 300 485 s midi-start-in;
#X obj 710 387 r midi-start-out;
#X obj 587 386 r midi-clock-out;
#X obj 826 390 r midi-stop-out;
#X obj 608 473 spigot;
#X obj 777 458 spigot;
#X obj 614 435 r midi-clock-out-enable;
#X obj 827 438 r midi-transport-out-enable;
#X obj 375 419 r midi-transport-in-enable;
#X obj 198 426 r midi-clock-in-enable;
#X obj 286 460 spigot;
#X obj 399 488 s midi-stop-in;
#X obj 400 458 spigot;
#X obj 176 472 spigot;
#X obj 170 504 s midi-clock-in;
#N canvas 283 91 575 689 set-spigots 0;
#X obj 69 31 t b;
#X obj 226 122 s midi-clock-in-enable;
#X obj 62 8 inlet;
#X obj 226 101 v midi-clock-in-enable;
#X obj 225 173 s midi-clock-out-enable;
#X obj 224 220 s midi-transport-in-enable;
#X obj 226 389 s midi-cc-out-enable;
#X obj 228 446 s midi-note-in-enable;
#X obj 226 500 s midi-note-out-enable;
#X obj 226 551 s midi-pc-in-enable;
#X obj 224 607 s midi-pc-out-enable;
#X obj 225 150 v midi-clock-out-enable;
#X obj 224 199 v midi-transport-in-enable;
#X obj 224 254 v midi-transport-out-enable;
#X obj 226 307 v midi-cc-in-enable;
#X obj 226 365 v midi-cc-out-enable;
#X obj 225 276 s midi-transport-out-enable;
#X obj 227 327 s midi-cc-in-enable;
#X obj 226 426 v midi-note-in-enable;
#X obj 227 480 v midi-note-out-enable;
#X obj 226 532 v midi-pc-in-enable;
#X obj 224 586 v midi-pc-out-enable;
#X connect 0 0 3 0;
#X connect 0 0 11 0;
#X connect 0 0 12 0;
#X connect 0 0 13 0;
#X connect 0 0 14 0;
#X connect 0 0 15 0;
#X connect 0 0 18 0;
#X connect 0 0 19 0;
#X connect 0 0 20 0;
#X connect 0 0 21 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 11 0 4 0;
#X connect 12 0 5 0;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 15 0 6 0;
#X connect 18 0 7 0;
#X connect 19 0 8 0;
#X connect 20 0 9 0;
#X connect 21 0 10 0;
#X restore 125 168 pd set-spigots;
#X obj 319 79 t b b b b;
#X text 467 322 clock and transport;
#X text 426 234 notein \, cc \, pc loaded here;
#X text 381 346 248 = clock 250 = start 252 = stop;
#X text 41 130 send out the spigot values;
#X text 12 146 (again \, now that midi object is created);
#X connect 0 0 31 0;
#X connect 9 0 10 0;
#X connect 10 0 28 0;
#X connect 10 1 25 0;
#X connect 10 3 27 0;
#X connect 12 0 19 0;
#X connect 13 0 20 0;
#X connect 14 0 20 0;
#X connect 16 0 13 0;
#X connect 17 0 12 0;
#X connect 18 0 14 0;
#X connect 19 0 11 0;
#X connect 20 0 11 0;
#X connect 21 0 19 1;
#X connect 22 0 20 1;
#X connect 23 0 27 1;
#X connect 23 0 25 1;
#X connect 24 0 28 1;
#X connect 25 0 15 0;
#X connect 27 0 26 0;
#X connect 28 0 29 0;
#X connect 31 0 30 0;
#X connect 31 1 3 0;
#X connect 31 2 2 0;
#X connect 31 3 1 0;
#X restore 286 121 pd midi;
#X obj 200 489 *~;
#X obj 288 335 r mute-dac;
#X obj 321 357 r unmute-dac;
#X obj 288 416 line~, f 8;
#X msg 288 386 0 7;
#X msg 321 387 1 7;
#N canvas 92 117 511 477 license 0;
#X text 19 14 Unless otherwise noted \, all files are copyright Critter
& Guitari and can be distributed freely according the terms of the
BSD 3-Clause License below. Where files have been imported from other
sources \, comments in those files indicate the authors and applicable
license. --- Begin BSD 3-Clause License --- Copyright (c) 2023 \, Critter
& Guitari All rights reserved. Redistribution and use in source and
binary forms \, with or without modification \, are permitted provided
that the following conditions are met: 1 Redistributions of source
code must retain the above copyright notice \, this list of conditions
and the following disclaimer. 2 Redistributions in binary form must
reproduce the above copyright notice \, this list of conditions and
the following disclaimer in the documentation and/or other materials
provided with the distribution. 3 Neither the name of the copyright
holder nor the names of its contributors may be used to endorse or
promote products derived from this software without specific prior
written permission. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS
AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES \, INCLUDING
\, BUT NOT LIMITED TO \, THE IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT \, INDIRECT
\, INCIDENTAL \, SPECIAL \, EXEMPLARY \, OR CONSEQUENTIAL DAMAGES (INCLUDING
\, BUT NOT LIMITED TO \, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES
\; LOSS OF USE \, DATA \, OR PROFITS \; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY \, WHETHER IN CONTRACT \, STRICT
LIABILITY \, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE \, EVEN IF ADVISED OF THE POSSIBILITY
OF SUCH DAMAGE.;
#X restore 57 149 pd license;
#N canvas 96 71 1042 537 oscio 0;
#X obj 109 227 udpsend;
#X obj 134 192 packOSC;
#X obj 291 172 udpreceive;
#X obj 291 194 unpackOSC;
#X obj 291 222 s oscIn;
#X obj 131 163 r oscOut;
#X msg 109 137 connect localhost 4001;
#X msg 291 142 port 4000;
#X msg 51 84 connect 192.168.1.129 4001;
#X msg 200 201 disconnect;
#X obj 109 253 sel 1;
#X obj 109 290 s net-connected;
#X obj 220 48 r osc-init, f 11;
#X text 94 43 connect osc;
#X obj 456 68 r oscIn;
#X obj 609 469 s knob1;
#X obj 762 463 s knob2;
#X obj 448 241 s keys;
#X obj 618 314 override 10;
#X obj 745 310 override 10;
#X obj 680 246 r knob1-override;
#X obj 808 245 r knob2-override;
#X obj 609 431 / 1023;
#X obj 761 427 / 1023;
#N canvas 8 50 450 300 smooth 0;
#X obj 101 114 t f f;
#X obj 107 32 inlet;
#X obj 102 194 outlet;
#X obj 101 92 expr 0.75 * $f1 + 0.25 * $f2;
#X obj 101 136 i;
#X obj 137 137 i;
#X connect 0 0 4 0;
#X connect 0 1 5 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 2 0;
#X connect 5 0 3 1;
#X restore 612 360 pd smooth;
#N canvas 8 50 450 300 smooth 0;
#X obj 101 114 t f f;
#X obj 101 136 i;
#X obj 137 137 i;
#X obj 107 32 inlet;
#X obj 102 194 outlet;
#X obj 101 92 expr 0.75 * $f1 + 0.25 * $f2;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 1 0 4 0;
#X connect 2 0 5 1;
#X connect 3 0 5 0;
#X connect 5 0 0 0;
#X restore 755 369 pd smooth;
#X obj 636 199 unpack 0 0, f 26;
#X obj 555 468 print;
#X obj 456 107 routeOSC /key /knobs /quitpd, f 68;
#X obj 743 139 sel 1;
#X obj 749 169 s stop-recording;
#X connect 0 0 10 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 1 0;
#X connect 6 0 0 0;
#X connect 7 0 2 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 11 0;
#X connect 12 0 6 0;
#X connect 12 0 7 0;
#X connect 14 0 28 0;
#X connect 18 0 24 0;
#X connect 19 0 25 0;
#X connect 20 0 18 1;
#X connect 21 0 19 1;
#X connect 22 0 15 0;
#X connect 23 0 16 0;
#X connect 24 0 22 0;
#X connect 25 0 23 0;
#X connect 26 0 18 0;
#X connect 26 1 19 0;
#X connect 28 0 17 0;
#X connect 28 1 26 0;
#X connect 28 2 29 0;
#X connect 29 0 30 0;
#X restore 286 54 pd oscio;
#X text 158 276 player modules \, knobs in sound out;
#N canvas 290 25 702 698 auto-load-modes 0;
#X obj 219 438 spigot 1;
#X obj 292 470 i 0;
#X obj 401 369 i 1;
#X obj 286 586 symbol s1;
#X obj 219 183 t a b;
#X obj 219 213 max 1;
#X obj 219 237 until;
#X obj 219 157 i 6;
#X obj 219 261 i;
#X obj 277 261 + 1;
#X obj 219 302 t a a b, f 26;
#X obj 346 554 makefilename s%d;
#X obj 358 490 t a a;
#X obj 281 223 i 1;
#X obj 219 522 t a b b;
#X obj 252 560 * 50;
#X obj 219 613 pack s 0 s;
#X obj 219 91 t b b;
#X obj 184 15 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 107 577 print loading;
#X obj 219 364 folder_list;
#X obj 184 58 t b b;
#X obj 105 270 s loadbang-s1;
#X obj 73 220 s loadbang-s3;
#X obj 53 198 s loadbang-s4;
#X obj 37 172 s loadbang-s5;
#X obj 23 149 s loadbang-s6;
#X obj 88 245 s loadbang-s2;
#X msg 322 155 \; pd-load-modes-here clear;
#X obj 218 17 r load-modes;
#X obj 219 332 makefilename modes/%d*;
#X msg 219 647 \; pd-load-modes-here obj 10 \$2 mode-slot \$3 \$1/module
;
#X obj 61 100 t b b b b b b b;
#X obj 14 126 s loadbang-s7;
#X connect 0 0 14 0;
#X connect 1 0 0 1;
#X connect 2 0 0 1;
#X connect 3 0 16 2;
#X connect 4 0 5 0;
#X connect 4 1 13 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 4 0;
#X connect 8 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 8 1;
#X connect 10 0 30 0;
#X connect 10 1 12 0;
#X connect 10 2 2 0;
#X connect 11 0 3 1;
#X connect 12 0 15 0;
#X connect 12 1 11 0;
#X connect 13 0 8 1;
#X connect 14 0 16 0;
#X connect 14 0 19 0;
#X connect 14 1 3 0;
#X connect 14 2 1 0;
#X connect 15 0 16 1;
#X connect 16 0 31 0;
#X connect 17 0 7 0;
#X connect 17 1 28 0;
#X connect 18 0 21 0;
#X connect 20 0 0 0;
#X connect 21 0 32 0;
#X connect 21 1 17 0;
#X connect 29 0 21 0;
#X connect 30 0 20 0;
#X connect 32 0 33 0;
#X connect 32 1 26 0;
#X connect 32 2 25 0;
#X connect 32 3 24 0;
#X connect 32 4 23 0;
#X connect 32 5 27 0;
#X connect 32 6 22 0;
#X restore 57 101 pd auto-load-modes;
#N canvas 150 175 450 300 load-modes-here 0;
#X restore 57 125 pd load-modes-here;
#N canvas 160 216 683 536 mode-select 0;
#X text 281 216 speed limit 20 ms to allow for fade out/in;
#N canvas 133 296 450 344 20ms-speed-limit 0;
#X msg 91 120 1;
#X obj 85 180 spigot 1;
#X msg 159 118 0;
#X obj 92 95 delay 20;
#X obj 45 27 inlet;
#X obj 139 55 t b b;
#X obj 71 242 t f b;
#X obj 62 277 outlet;
#X connect 0 0 1 1;
#X connect 1 0 6 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X connect 5 1 2 0;
#X connect 6 0 7 0;
#X connect 6 1 5 0;
#X restore 150 217 pd 20ms-speed-limit;
#X obj 92 361 delay 10;
#X msg 111 455 1;
#X obj 115 397 f;
#X obj 147 332 t b f;
#X obj 120 497 s, f 10;
#X obj 141 421 t b f;
#X text 445 306 turn off with fadeout;
#X text 177 362 enable after 10ms for fade out;
#X msg 191 444 symbol s\$1-enable;
#X obj 151 257 t f f b;
#X obj 119 48 stripnote;
#X obj 111 73 sel 3;
#X obj 111 126 t f f;
#X obj 179 117 + 1;
#X msg 170 18 3 1;
#X obj 108 16 r keys;
#X obj 116 177 + 1;
#X obj 59 228 print MODE;
#X obj 111 105 f 1;
#X obj 314 131 r set-mode-num;
#X obj 301 307 s mode-disable-all;
#X obj 192 313 s mode-num;
#X obj 111 149 % 6;
#X connect 1 0 11 0;
#X connect 2 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 7 0;
#X connect 5 0 2 0;
#X connect 5 1 4 1;
#X connect 7 0 3 0;
#X connect 7 1 10 0;
#X connect 10 0 6 1;
#X connect 11 0 5 0;
#X connect 11 1 23 0;
#X connect 11 2 22 0;
#X connect 12 0 13 0;
#X connect 13 0 20 0;
#X connect 14 0 24 0;
#X connect 14 1 15 0;
#X connect 15 0 20 1;
#X connect 16 0 12 0;
#X connect 17 0 12 0;
#X connect 18 0 1 0;
#X connect 18 0 19 0;
#X connect 20 0 14 0;
#X connect 21 0 1 0;
#X connect 24 0 18 0;
#X restore 286 99 pd mode-select;
#X obj 586 52 v mode-num;
#X text 721 49 the currently selected mode;
#X obj 57 53 declare -lib pdlua;
#X obj 585 111 v total-files;
#X obj 586 82 v current-file-index;
#N canvas 63 88 614 412 sound-select 0;
#X obj 152 51 r keys;
#X obj 152 72 stripnote;
#X obj 152 95 sel 0 2, f 24;
#X obj 326 203 + 1;
#X obj 76 209 - 1;
#X obj 213 177 v total-files;
#X obj 471 181 v total-files;
#X obj 124 142 t b b;
#X obj 344 147 t b b;
#X obj 79 287 s current-file-index;
#X obj 327 254 s current-file-index;
#X obj 76 183 v current-file-index;
#X obj 326 181 v current-file-index;
#X obj 79 235 expr if($f1 < 0 \, $f2 - 1 \, $f1);
#X obj 327 229 expr if($f1 > ($f2 - 1) \, 0 \, $f1);
#X obj 79 261 expr if($f1 < 0 \, 0 \, $f1);
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 2 1 8 0;
#X connect 3 0 14 0;
#X connect 4 0 13 0;
#X connect 5 0 13 1;
#X connect 6 0 14 1;
#X connect 7 0 11 0;
#X connect 7 1 5 0;
#X connect 8 0 12 0;
#X connect 8 1 6 0;
#X connect 11 0 4 0;
#X connect 12 0 3 0;
#X connect 13 0 15 0;
#X connect 14 0 10 0;
#X connect 15 0 9 0;
#X restore 286 143 pd sound-select;
#X text 719 111 how many sound files in total;
#X obj 585 138 v next-name;
#X text 713 137 the number to use for the next recording;
#X text 720 80 the current playing file index;
#N canvas 92 117 562 338 wavelist 0;
#X obj 191 43 r scanfiles;
#X obj 208 132 wavelist;
#X obj 53 81 r current-file-index;
#X obj 173 252 s total-files;
#X obj 208 169 route total_files next_name filename;
#X obj 277 251 print OPEN;
#X obj 357 250 s waveplayer-open;
#X obj 37 148 print INDEX;
#X obj 357 197 symbol;
#X obj 266 207 s next-name;
#X obj 63 216 print WAVELIST;
#X obj 394 66 r addfile;
#X msg 357 222 open /sdcard/recordings/\$1;
#X msg 194 68 scan /sdcard/recordings/;
#X connect 0 0 13 0;
#X connect 1 0 4 0;
#X connect 1 0 10 0;
#X connect 2 0 1 0;
#X connect 2 0 7 0;
#X connect 4 0 3 0;
#X connect 4 1 9 0;
#X connect 4 2 8 0;
#X connect 8 0 12 0;
#X connect 11 0 1 0;
#X connect 12 0 6 0;
#X connect 12 0 5 0;
#X connect 13 0 1 0;
#X restore 286 166 pd wavelist;
#X obj 585 164 v rec-state;
#X text 710 164 1 is recording \, 0 not recording;
#N canvas 63 88 725 596 record 0;
#X obj 238 124 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 241 151 sel 0 1;
#X obj 390 501 writesf~;
#X msg 414 363 start;
#X msg 261 365 stop;
#X obj 148 362 delay 10;
#X obj 402 325 t b b;
#X obj 468 356 v next-name;
#X obj 356 344 adc~;
#X obj 238 31 r keys;
#X obj 238 52 stripnote;
#X obj 238 73 sel 1;
#X obj 208 269 t b b b;
#X msg 260 292 0;
#X obj 270 317 s rec-en;
#X obj 90 506 s rec-en;
#X msg 99 470 1;
#X obj 238 98 spigot 1;
#X obj 300 71 r rec-en;
#X obj 289 481 v next-name;
#X msg 289 509 add \$1.wav;
#X obj 148 533 s current-file-index;
#X obj 150 460 v total-files;
#X obj 150 497 - 1;
#X obj 31 484 s rec-led;
#X text 303 292 disable new while flushing;
#X msg 470 390 open /sdcard/recordings/\$1.wav;
#X obj 288 536 s addfile;
#X obj 93 23 r stop-recording;
#X msg 135 69 0;
#X obj 126 397 t b b b b;
#X obj 359 255 s rec-led;
#X msg 320 214 1;
#X obj 264 181 t b b;
#X msg 57 435 0;
#X connect 0 0 1 0;
#X connect 1 0 12 0;
#X connect 1 1 33 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 30 0;
#X connect 6 0 3 0;
#X connect 6 1 7 0;
#X connect 7 0 26 0;
#X connect 8 0 2 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 17 0;
#X connect 12 0 5 0;
#X connect 12 1 4 0;
#X connect 12 2 13 0;
#X connect 13 0 14 0;
#X connect 16 0 15 0;
#X connect 17 0 0 0;
#X connect 18 0 17 1;
#X connect 19 0 20 0;
#X connect 20 0 27 0;
#X connect 22 0 23 0;
#X connect 23 0 21 0;
#X connect 26 0 2 0;
#X connect 28 0 29 0;
#X connect 29 0 0 0;
#X connect 30 0 34 0;
#X connect 30 1 16 0;
#X connect 30 2 22 0;
#X connect 30 3 19 0;
#X connect 32 0 31 0;
#X connect 33 0 6 0;
#X connect 33 1 32 0;
#X connect 34 0 24 0;
#X restore 286 191 pd record;
#X connect 0 0 8 0;
#X connect 8 0 1 0;
#X connect 9 0 12 0;
#X connect 10 0 13 0;
#X connect 11 0 8 1;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
